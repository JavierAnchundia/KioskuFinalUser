<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #bdaec6;">
  <div class="container-fluid">
    <button class="d-md-none navbar-toggler flex-grow-sm-1 flex-grow-0 me-2" type="button" data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasExample">
      <span class="navbar-toggler-icon d-md-none"></span>
    </button>
    <a class="navbar-brand" routerLink="/">
      KIOSKU
    </a>
    <div class="d-md-none offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample"
      aria-labelledby="offcanvasExampleLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title navbar-brand" id="offcanvasExampleLabel">KIOSKU</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="nav navbar-nav">
          <li class="nav-item" [routerLink]="item.router" *ngFor="let item of this.menuItems">
            <a class="nav-link">
              {{ item.label }}
            </a>
          </li>
          <li class="nav-item" *ngIf="authenticated" routerLink="checkout/lista">
            <a class="nav-link">
              <nz-badge
                [nzCount]="this.carro.getLocalCartProducts().length ? this.carro.getLocalCartProducts().length : 0"
                nzShowZero
                [nzStyle]="{ backgroundColor: '#fff', color: '#6144ff', boxShadow: '0 0 0 1px #d9d9d9 inset' }">
                <i nz-icon nzType="shopping-cart"></i>
              </nz-badge>
            </a>
          </li>
          <li class="nav-item" *ngIf="authenticated">
            <a class="nav-link">
              <button class="btn btn-link dropdown-toggle" type="button" id="dropdownMenuButton"
                data-bs-toggle="dropdown">
                Mi cuenta
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <li><a class="dropdown-item" routerLink="usuario/perfil">Ver perfil</a></li>
                <li><a class="dropdown-item" routerLink="postular/items">Ver ítems postulados</a></li>
                <li><a class="dropdown-item" routerLink="usuario/historial">Ver historial de compras</a></li>
                <li><a class="dropdown-item" (click)="confirmLogout()">Cerrar sesión</a></li>
              </ul>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="collapse navbar-collapse"></div>
    <div class="collapse navbar-collapse d-none d-md-block" id="navbar5">
      <ul class="nav navbar-nav mr-auto">
        <li class="nav-item" [routerLink]="item.router" *ngFor="let item of this.menuItems">
          <a class="nav-link" [ngClass]="item.active? 'active' : ''" (click)="updateActiveItem(item)">
            {{ item.label }}
          </a>
        </li>
        <!-- <li class="nav-item" routerLink="membresia/">
          <a class="nav-link active">
            Membresías
          </a>
        </li>
        <li class="nav-item" routerLink="productos/lista">
          <a class="nav-link active">
            Catálogo
          </a>
        </li> -->
      </ul>
      <div class="main-header-login d-none d-sm-block">
        <ul class="navbar-nav me-auto">
          <li class="nav-item" *ngIf="!authenticated">
            <button class="btn btn-sm btn-login" type="button" (click)="openLoginModal()">
              Regístrate o Inicia sesión</button>
          </li>
          <li class="nav-item m-2" *ngIf="authenticated" routerLink="checkout/lista">
            <nz-badge
              [nzCount]="this.carro.getLocalCartProducts().length ? this.carro.getLocalCartProducts().length : 0"
              nzShowZero
              [nzStyle]="{ backgroundColor: '#fff', color: '#6144ff', boxShadow: '0 0 0 1px #d9d9d9 inset' }">
              <i nz-icon nzType="shopping-cart"></i>
            </nz-badge>
          </li>
          <li class="nav-item m-2" *ngIf="authenticated" nz-dropdown [nzDropdownMenu]="menu">
            <nz-avatar nzText="C" style="color:#000000; background-color:#f1dd95;"></nz-avatar>
            <i nz-icon nzType="down"></i>
          </li>
          <nz-dropdown-menu #menu="nzDropdownMenu" nzPlacement="bottomCenter">
            <ul nz-menu nzSelectable>
              <li nz-menu-item routerLink="usuario/perfil">Ver perfil</li>
              <li nz-menu-item routerLink="postular/items">Ver ítems postulados</li>
              <li nz-menu-item routerLink="usuario/historial">Ver historial de compras</li>
              <li nz-menu-item nzDanger (click)="confirmLogout()">Cerrar sesión</li>
            </ul>
          </nz-dropdown-menu>
          <li class="nav-item ml-10">
            <button class="btn btn-sm btn-submit" type="button" routerLink="postular/nuevo">
              <mat-icon>add_circle_outline</mat-icon>Postular ítem
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
