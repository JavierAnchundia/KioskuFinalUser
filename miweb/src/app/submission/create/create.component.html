<div class="content mx-auto">
  <mat-card>
    <div class="align-items-center">
      <h1 class="display-5 fw-normal">
        Postula un nuevo artículo
      </h1>
    </div>
    <mat-card-content>
      <form [formGroup]="itemForm!" (ngSubmit)="submit()">
        <mat-form-field class="item-form-field" appearance="outline">
          <mat-label>Nombre del ítem</mat-label>
          <input matInput type="text" formControlName="nombre">
          <button *ngIf="itemForm.value.nombre" matSuffix class="btn" aria-label="Clear"
            (click)="itemForm.patchValue({nombre: null})">
            <i class="fas fa-times"></i>
          </button>
        </mat-form-field>
        <mat-form-field class="item-form-field" appearance="outline">
          <mat-label>Descripción del ítem</mat-label>
          <textarea matInput formControlName="descripcion" row=4 spellcheck="true" maxlength="250"></textarea>
          <div class="count-div">
            <div class="count-text">{{itemForm.value.descripcion.length}}/250</div>
          </div>
        </mat-form-field>
        <div class="row">
          <div class="col-6">
            <mat-form-field class="item-form-field" appearance="outline">
              <mat-label>Seleccione la forma de entrega</mat-label>
              <mat-select formControlName="entrega">
                <mat-option *ngFor="let opt of submissionOptions" [value]="opt.value"> {{ opt.label}}
                  <small *ngIf="opt.hint">{{ opt.hint }} </small></mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field  class="item-form-field" appearance="outline">
              <mat-label>Cantidad</mat-label>
          <input matInput type="number" formControlName="cantidad">
            </mat-form-field>
          </div>
        </div>

        <div class="form-group">

          <nz-upload nzListType="picture"
          [nzMultiple]="true"  [(nzFileList)]="fileList">
            <button class="btn-submit" type="button">
              <i nz-icon nzType="upload"></i>
              Subir imágenes
            </button>
          </nz-upload>
          <small *ngIf="fileList.length === 0" class="text-danger"><i class="fas fa-exclamation-circle"></i> Para poder enviar su postulación es necesario subir al menos una imagen.</small>
        </div>
        <div>
          <button [disabled]="fileList.length === 0" type="submit" class="btn btn-lg btn-submit">Enviar postulación</button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

</div>
